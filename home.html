<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>GRADIO PORTAL</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
<style>
   /* üö´ Block desktop view */
@media (min-width: 1024px) {
  #desktop-block { display: flex !important; }
  body > *:not(#desktop-block) { display: none !important; }
}
  
  body { background-color:#000; color:#fff; }

  .app-icon img { width:64px; height:64px; border-radius:50%; }
  .swiper-button-next, .swiper-button-prev { display:none!important; }

  /* Marquee */
  @keyframes marquee { from{transform:translateX(100%);} to{transform:translateX(-100%);} }
  .animate-marquee { display:inline-block; padding-left:100%; animation:marquee 12s linear infinite; will-change: transform; }

  .nest-logo { height:28px; width:145px; object-fit:contain; }
  @keyframes slideUp { from{transform:translateY(100%);opacity:0;} to{transform:translateY(0);opacity:1;} }
  .animate-slideUp { animation:slideUp .8s ease-out forwards; }


  /* üì± Base (Mobile-first styles) */
  .search-bar { width: 100%; max-width: 20rem; margin: 0 auto; }
  .apps-section { width: 100%; margin: 0 auto; }
  .apps-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem; justify-items: center; }

  /* üíª Desktop Enhancements */
  @media (min-width: 1024px) {
    .search-bar { max-width: 900px !important; }
    .apps-section { max-width: 1100px; margin-left: auto; margin-right: auto; padding: 2rem 0; }
    .apps-grid { grid-template-columns: repeat(6, 1fr); gap: 2.5rem; }
    .app-icon img { width: 90px; height: 90px; }
    .app-label { font-size: 1rem; }
  }
</style>
</head>
<body class="text-white">
     <!-- üö´ Desktop Block Message -->
<div id="desktop-block" class="hidden fixed inset-0 bg-black text-white flex items-center justify-center text-center z-50">
  <div>
    <h1 class="text-3xl font-bold mb-4">üì± Mobile Only</h1>
    <p class="text-lg">This portal is only available on mobile devices.<br>
    Please use your phone to continue.</p>
  </div>
</div>

<!-- üëã Welcome Logo Popup -->
<div id="welcomePopup" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-80 backdrop-blur-sm z-50">
  <div class="text-center animate-slideUp">
    <img src="assets/icons/GRADIO.png" alt="Welcome Logo"
         class="w-40 h-40 sm:w-56 sm:h-56 mx-auto rounded-full shadow-2xl ring-4 ring-yellow-400 animate-pulse">
    <h1 class="text-2xl sm:text-3xl font-extrabold mt-4 text-yellow-300 drop-shadow-lg">
      Welcome to Gradio Portal
    </h1>
    <p class="text-gray-300 text-sm mt-2">With DJ Blayne Duero Castillo ...</p>
  </div>
</div>

<!-- üì∞ Ad Overlay -->
<div id="ad-overlay" class="hidden fixed inset-0 flex items-center justify-center bg-black bg-opacity-70 z-50">
  <div class="relative rounded-xl shadow-xl p-6 max-w-sm text-center bg-transparent text-white animate-slideUp">
    <button id="close-ad" class="absolute top-2 right-2 text-gray-500 hover:text-red-500">‚úñ</button>
    <a id="ad-link" href="#" target="_blank">
      <img id="ad-image" src="" alt="Ad Image" class="w-full rounded-lg mb-4">
    </a>
    <h2 id="ad-title" class="text-lg font-bold mb-2"></h2>
    <p id="ad-text" class="text-sm mb-4"></p>
    <a id="ad-btn" href="#" target="_blank" class="inline-block bg-blue-500 text-white px-4 py-2 rounded-full shadow">
      Learn More
    </a>
  </div>
</div>

<!-- üé• Local Video Playlist -->
<div class="relative w-full max-w-4xl mx-auto aspect-video mb-4">
  <video id="introVideo" class="w-full h-full rounded-lg shadow-lg" autoplay muted>
    <source id="videoSource" src="player/VPsara.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>

  <!-- ‚ñ∂ Next Video overlay -->
  <div id="nextVideoBtn" 
       class="hidden absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 cursor-pointer">
    <span class="text-yellow-400 font-bold text-2xl">‚ñ∂ Next Video</span>
  </div>
</div>


<!-- üîé Header -->
<div class="flex flex-col items-center mb-4 mt-2">
  <div class="flex items-center gap-3">
    <img src="assets/icons/search.png" alt="Search Logo" class="h-12 opacity-80" />
    <img src="assets/icons/NEST_SEARCH.png" alt="Nest Search Logo" class="nest-logo" />
    <span id="weather" class="text-lg">‚òÅÔ∏è Loading...</span>
  </div>
</div>

<!-- Search Bar -->
<div class="relative search-bar mb-2">
  <input type="text" placeholder="Search..."
    class="w-full p-3 pl-12 pr-12 rounded-full bg-gray-700 text-white focus:outline-none shadow-md" />
</div>

<!-- Marquee -->
<div class="w-full overflow-hidden mb-6">
  <p class="text-[15px] sm:text-sm text-gray-300 whitespace-nowrap animate-marquee">
   ‚ÄúDon Jose Guardo showed us that technology can be driven by compassion, and through Gradio Smile Wifi, his legacy continues to empower and inspire.‚Äù
  </p>
</div>

<!-- App Slider -->
<div class="w-full max-w-2xl">
  <div class="swiper">
    <div class="swiper-wrapper">
      
      <!-- Slide 1 -->
      <div class="swiper-slide">
        <div class="grid grid-cols-3 gap-6">
          <div class="flex flex-col items-center text-center">
            <a href="VP.html" target="_blank" class="flex flex-col items-center">
              <div class="w-16 h-16 rounded-full flex items-center justify-center shadow-md bg-gray-700 app-icon">
                <img src="assets/icons/inday.jpg" alt="Gov Johnny">
              </div>
              <p class="mt-2 text-xs">VP Inday Sara</p>
            </a>
          </div>
          <div class="flex flex-col items-center text-center">
            <a href="gov.html" target="_blank" class="flex flex-col items-center">
              <div class="w-16 h-16 rounded-full flex items-center justify-center shadow-md bg-gray-700 app-icon">
                <img src="assets/icons/johnny.png" alt="Mayor Digoy">
              </div>
              <p class="mt-2 text-xs">Gov. Johnny</p>
            </a>
          </div>
          <div class="flex flex-col items-center text-center">
            <a href="mayor.html" target="_blank" class="flex flex-col items-center">
              <div class="w-16 h-16 rounded-full flex items-center justify-center shadow-md bg-gray-700 app-icon">
                <img src="assets/icons/digoy.png" alt="Cantilan LGU">
              </div>
              <p class="mt-2 text-xs">Mayor Digoy </p>
            </a>
          </div>
          <div class="flex flex-col items-center text-center">
            <a href="cantilan.html" target="_blank" class="flex flex-col items-center">
              <div class="w-16 h-16 rounded-full flex items-center justify-center shadow-md bg-gray-700 app-icon">
                <img src="assets/icons/wecantilan.png" alt="We Cantilan">
              </div>
              <p class="mt-2 text-xs">We‚ù§Cantilan</p>
            </a>
          </div>
          <div class="flex flex-col items-center text-center">
            <a href="home.html" target="_blank" class="flex flex-col items-center">
              <div class="w-16 h-16 rounded-full flex items-center justify-center shadow-md bg-gray-700 app-icon">
                <img src="assets/icons/GRADIO.png" alt="Gradio FM">
              </div>
              <p class="mt-2 text-xs">Gradio FM</p>
            </a>
          </div>
          <div class="flex flex-col items-center text-center">
            <a href="movie_streaming/index.html" target="_blank" class="flex flex-col items-center">
              <div class="w-16 h-16 rounded-full flex items-center justify-center shadow-md bg-gray-700 app-icon">
                <img src="assets/icons/smileflex.png" alt="Smileflex">
              </div>
              <p class="mt-2 text-xs">Smileflex</p>
            </a>
          </div>
        </div>
      </div>

      <!-- Slide 2 -->
      <div class="swiper-slide">
        <div class="grid grid-cols-3 gap-6">
          <div class="flex flex-col items-center text-center">
            <a href="#" target="_blank" class="flex flex-col items-center">
              <div class="w-16 h-16 rounded-full flex items-center justify-center shadow-md bg-gray-700 app-icon">
                <img src="assets/icons/musify.png" alt="Musify">
              </div>
              <p class="mt-2 text-xs">Musify</p>
            </a>
          </div>
          <div class="flex flex-col items-center text-center">
            <a href="#" target="_blank" class="flex flex-col items-center">
              <div class="w-16 h-16 rounded-full flex items-center justify-center shadow-md bg-gray-700 app-icon">
                <img src="assets/icons/gamehub.png" alt="Game Hub">
              </div>
              <p class="mt-2 text-xs">Game Hub</p>
            </a>
          </div>
          <div class="flex flex-col items-center text-center">
            <a href="#" target="_blank" class="flex flex-col items-center">
              <div class="w-16 h-16 rounded-full flex items-center justify-center shadow-md bg-gray-700 app-icon">
                <img src="assets/icons/orangeware.png" alt="OrangeWare">
              </div>
              <p class="mt-2 text-xs">OrangeWare</p>
            </a>
          </div>
          <div class="flex flex-col items-center text-center">
            <a href="#" target="_blank" class="flex flex-col items-center">
              <div class="w-16 h-16 rounded-full flex items-center justify-center shadow-md bg-gray-700 app-icon">
                <img src="assets/icons/wikipedia.png" alt="Wikipedia">
              </div>
              <p class="mt-2 text-xs">Wikipedia</p>
            </a>
          </div>
          <div class="flex flex-col items-center text-center">
            <a href="#" target="_blank" class="flex flex-col items-center">
              <div class="w-16 h-16 rounded-full flex items-center justify-center shadow-md bg-gray-700 app-icon">
                <img src="assets/icons/ebooks.png" alt="eBooks">
              </div>
              <p class="mt-2 text-xs">eBooks</p>
            </a>
          </div>
          <div class="flex flex-col items-center text-center">
            <a href="#" target="_blank" class="flex flex-col items-center">
              <div class="w-16 h-16 rounded-full flex items-center justify-center shadow-md bg-gray-700 app-icon">
                <img src="assets/icons/news.png" alt="News Daily">
              </div>
              <p class="mt-2 text-xs">News Daily</p>
            </a>
          </div>
        </div>
      </div>

      <!-- Slide 3 -->
      <div class="swiper-slide">
        <div class="grid grid-cols-3 gap-6">
          <div class="flex flex-col items-center text-center">
            <a href="#" target="_blank" class="flex flex-col items-center">
              <div class="w-16 h-16 rounded-full flex items-center justify-center shadow-md bg-gray-700 app-icon">
                <img src="assets/icons/eatbulaga.png" alt="Eat Bulaga">
              </div>
              <p class="mt-2 text-xs">Eat Bulaga</p>
            </a>
          </div>
          <div class="flex flex-col items-center text-center">
            <a href="#" target="_blank" class="flex flex-col items-center">
              <div class="w-16 h-16 rounded-full flex items-center justify-center shadow-md bg-gray-700 app-icon">
                <img src="assets/icons/showtime.jpg" alt="Showtime">
              </div>
              <p class="mt-2 text-xs">Showtime</p>
            </a>
          </div>
          <div class="flex flex-col items-center text-center">
            <a href="#" target="_blank" class="flex flex-col items-center">
              <div class="w-16 h-16 rounded-full flex items-center justify-center shadow-md bg-gray-700 app-icon">
                <img src="assets/icons/wetube.png" alt="WeTube">
              </div>
              <p class="mt-2 text-xs">WeTube</p>
            </a>
          </div>
          <div class="flex flex-col items-center text-center">
            <a href="#" target="_blank" class="flex flex-col items-center">
              <div class="w-16 h-16 rounded-full flex items-center justify-center shadow-md bg-gray-700 app-icon">
                <img src="assets/icons/videoke.png" alt="Videoke Star">
              </div>
              <p class="mt-2 text-xs">Videoke Star</p>
            </a>
          </div>
          <div class="flex flex-col items-center text-center">
            <a href="#" target="_blank" class="flex flex-col items-center">
              <div class="w-16 h-16 rounded-full flex items-center justify-center shadow-md bg-gray-700 app-icon">
                <img src="assets/icons/bible.jpg" alt="Bible">
              </div>
              <p class="mt-2 text-xs">Bible</p>
            </a>
          </div>
          <div class="flex flex-col items-center text-center">
            <a href="#" target="_blank" class="flex flex-col items-center">
              <div class="w-16 h-16 rounded-full flex items-center justify-center shadow-md bg-gray-700 app-icon">
                <img src="assets/icons/google.jpg" alt="Google">
              </div>
              <p class="mt-2 text-xs">Google</p>
            </a>
          </div>
        </div>
      </div>
    <!-- Pagination -->
    <div class="swiper-pagination mt-4"></div>
  </div>
</div>

<!-- üåç Footer Navigation -->
<div class="flex justify-center items-center mb-6 mt-12">
  <div class="relative flex items-center justify-between w-full max-w-4xl px-6 bg-[#1c1c1c] rounded-full shadow-lg">
    <img src="assets/GIF/earth.gif" alt="Earth" class="w-16 h-16 cursor-pointer hover:scale-110 transition-transform ml-4" onclick="window.location.href='https://www.google.com'">
    <img id="floatingBtn" src="assets/icons/Home.png" alt="Apps" class="w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 cursor-pointer transition-transform -mt-8 sm:-mt-10 z-10" onclick="openAppsMenu()">
    <img src="assets/GIF/Mars.gif" alt="Mars" class="w-16 h-16 cursor-pointer hover:scale-110 transition-transform mr-4" onclick="window.location.href='mars_intranet.html'">
  </div>
</div>

<!-- üì± Apps Overlay Menu -->
<div id="appsMenu" class="hidden fixed inset-0 bg-black bg-opacity-95 z-50 flex flex-col items-center p-6 overflow-y-auto">
  <div class="w-full flex justify-between items-center mb-6">
    <h2 class="text-xl font-bold">All Apps</h2>
    <button onclick="closeAppsMenu()" class="text-white text-2xl">‚úñ</button>
  </div>
  
     <!-- Grid of Apps -->
  <div class="grid grid-cols-3 gap-6 w-full max-w-md text-center">
    <a href="VP.html" class="flex flex-col items-center">
      <img src="assets/icons/inday.jpg" class="w-16 h-16 rounded-full mb-2" alt="VP">
      <p class="text-xs">VP Inday Sara</p>
    </a>
    <a href="gov.html" class="flex flex-col items-center">
      <img src="assets/icons/johnny.png" class="w-16 h-16 rounded-full mb-2" alt="Gov">
      <p class="text-xs">Gov. Johnny</p>
    </a>
    <a href="mayor.html" class="flex flex-col items-center">
      <img src="assets/icons/digoy.png" class="w-16 h-16 rounded-full mb-2" alt="Mayor">
      <p class="text-xs">Mayor Digoy</p>
    </a>
    <a href="cantilan.html" class="flex flex-col items-center">
      <img src="assets/icons/wecantilan.png" class="w-16 h-16 rounded-full mb-2" alt="Cantilan">
      <p class="text-xs">We‚ù§Cantilan</p>
    </a>
    <a href="home.html" class="flex flex-col items-center">
      <img src="assets/icons/GRADIO.png" class="w-16 h-16 rounded-full mb-2" alt="Gradio">
      <p class="text-xs">Gradio FM</p>
    </a>
    <a href="movie_streaming/index.html" class="flex flex-col items-center">
      <img src="assets/icons/smileflex.png" class="w-16 h-16 rounded-full mb-2" alt="Smileflex">
      <p class="text-xs">Smileflex</p>
    </a>
    <a href="#" class="flex flex-col items-center">
      <img src="assets/icons/musify.png" class="w-16 h-16 rounded-full mb-2" alt="Musify">
      <p class="text-xs">Musify</p>
    </a>
    <a href="#" class="flex flex-col items-center">
      <img src="assets/icons/gamehub.png" class="w-16 h-16 rounded-full mb-2" alt="GameHub">
      <p class="text-xs">Game Hub</p>
    </a>
    <a href="#" class="flex flex-col items-center">
      <img src="assets/icons/orangeware.png" class="w-16 h-16 rounded-full mb-2" alt="OrangeWare">
      <p class="text-xs">OrangeWare</p>
    </a>
    <a href="#" class="flex flex-col items-center">
      <img src="assets/icons/wikipedia.png" class="w-16 h-16 rounded-full mb-2" alt="Wikipedia">
      <p class="text-xs">Wikipedia</p>
    </a>
    <a href="#" class="flex flex-col items-center">
      <img src="assets/icons/ebooks.png" class="w-16 h-16 rounded-full mb-2" alt="eBooks">
      <p class="text-xs">eBooks</p>
    </a>
    <a href="#" class="flex flex-col items-center">
      <img src="assets/icons/news.png" class="w-16 h-16 rounded-full mb-2" alt="News">
      <p class="text-xs">News Daily</p>
    </a>
    <a href="#" class="flex flex-col items-center">
      <img src="assets/icons/eatbulaga.png" class="w-16 h-16 rounded-full mb-2" alt="Eat Bulaga">
      <p class="text-xs">Eat Bulaga</p>
    </a>
    <a href="#" class="flex flex-col items-center">
      <img src="assets/icons/showtime.jpg" class="w-16 h-16 rounded-full mb-2" alt="Showtime">
      <p class="text-xs">Showtime</p>
    </a>
    <a href="#" class="flex flex-col items-center">
      <img src="assets/icons/wetube.png" class="w-16 h-16 rounded-full mb-2" alt="WeTube">
      <p class="text-xs">WeTube</p>
    </a>
    <a href="#" class="flex flex-col items-center">
      <img src="assets/icons/videoke.png" class="w-16 h-16 rounded-full mb-2" alt="Videoke">
      <p class="text-xs">Videoke Star</p>
    </a>
    <a href="#" class="flex flex-col items-center">
      <img src="assets/icons/bible.jpg" class="w-16 h-16 rounded-full mb-2" alt="Bible">
      <p class="text-xs">Bible</p>
    </a>
    <a href="#" class="flex flex-col items-center">
      <img src="assets/icons/google.jpg" class="w-16 h-16 rounded-full mb-2" alt="Google">
      <p class="text-xs">Google</p>
    </a>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
const welcomePopup = document.getElementById("welcomePopup");
const introVideo = document.getElementById("introVideo");
const videoSource = document.getElementById("videoSource");

// üéûÔ∏è Video Playlist
const videoPlaylist = [
  "player/VPsara.mp4",
  "player/video02.mp4",
  "player/Zandro.mp4",
  "player/NewDJ.mp4"
];

let currentVideo = 0;

// Function to play next video (seamless loop)
function playNextVideo() {
  currentVideo = (currentVideo + 1) % videoPlaylist.length;
  videoSource.src = videoPlaylist[currentVideo];
  introVideo.load();
  introVideo.play();
}

// üéµ Welcome Popup
welcomePopup.addEventListener("click", () => {
  welcomePopup.classList.add("hidden");
  introVideo.muted = false;
  introVideo.play();

  // ‚úÖ Trigger cache now
  if (navigator.serviceWorker.controller) {
    navigator.serviceWorker.controller.postMessage({ action: "cacheVideos" });
  }

  // ‚úÖ Ads start after 20s
  setTimeout(() => {
    showAd();
    setInterval(showAd, 60000);
  }, 20000);
});

// ‚úÖ Seamless loop (auto play next when video ends)
introVideo.addEventListener("ended", playNextVideo);

// üîÑ Swiper
const swiper = new Swiper('.swiper', {
  loop: false,
  pagination: { el: '.swiper-pagination', clickable: true }
});

// üéØ Rotating Ads
const adOverlay = document.getElementById('ad-overlay');
const adImage = document.getElementById('ad-image');
const adTitle = document.getElementById('ad-title');
const adText = document.getElementById('ad-text');
const adBtn = document.getElementById('ad-btn');
const adLink = document.getElementById('ad-link');

const ads = [
  {
    img: "assets/POPUP/VP/sara.png",
    title: " One Philippines, One Future, One Sara.",
    text: "We Support Sara",
    btn: "Learn More",
    btnLink: "https://www.ovp.gov.ph/",
    color: "green"
  },
  {
    img: "assets/POPUP/EYEBERRY/wangod.png",
    title: "Eyeberry Gold",
    text: "Nourish your eyes with Eyeberry Gold ‚Äî packed with antioxidants to support vision and protect from digital strain.",
    btn: "Buy Now",
    btnLink: "https://example.com/eyeberry-gold",
    color: "yellow"
  },
  {
    img: "assets/POPUP/VP/Gradio.png",
    title: "Dj Blayn Castello",
    text: "Gradio Cantilan",
    btn: "Shop Now",
    btnLink: "https://example.com/eyecare-pro",
    color: "blue"
  },
  {
    img: "Ad/ad4.jpg",
    title: "ClearSight",
    text: "Boost your vision with ClearSight ‚Äî advanced formula for sharper focus and eye comfort.",
    btn: "Discover Now",
    btnLink: "https://example.com/clearsight",
    color: "purple"
  }
];

let currentAd = 0;

function showAd() {
  const ad = ads[currentAd];
  adImage.src = ad.img;
  adTitle.textContent = ad.title;
  adText.textContent = ad.text;
  adBtn.textContent = ad.btn;
  adBtn.href = ad.btnLink;
  adLink.href = ad.btnLink;

  adOverlay.classList.remove("hidden");
  setTimeout(hideAd, 6000);
}

function hideAd() {
  adOverlay.classList.add("hidden");
  currentAd = (currentAd + 1) % ads.length;
}

document.getElementById("close-ad").onclick = hideAd;

// ‚õÖ Weather
const weatherSpan = document.getElementById('weather');
async function fetchWeather() {
  try {
    const res = await fetch("https://api.open-meteo.com/v1/forecast?latitude=9.33&longitude=125.97&current_weather=true");
    const data = await res.json();
    const temp = Math.round(data.current_weather.temperature);
    const code = data.current_weather.weathercode;
    weatherSpan.innerHTML = `${getIcon(code)} ${temp}¬∞C`;
  } catch {
    weatherSpan.textContent = 'üå°Ô∏è N/A';
  }
}
function getIcon(c) {
  if(c===0) return '‚òÄÔ∏è';
  if([1,2].includes(c)) return '‚õÖ';
  if(c===3) return '‚òÅÔ∏è';
  if([45,48].includes(c)) return 'üå´Ô∏è';
  if([51,53,55,56,57].includes(c)) return 'üå¶Ô∏è';
  if([61,63,65,66,67].includes(c)) return 'üåßÔ∏è';
  if([71,73,75,77].includes(c)) return '‚ùÑÔ∏è';
  if([80,81,82].includes(c)) return 'üåßÔ∏è';
  if(c===95) return '‚õàÔ∏è';
  return 'üå°Ô∏è';
}
fetchWeather();
setInterval(fetchWeather, 600000);

// ‚è∞ Live Clock
const liveClock = document.getElementById("liveClock");
function updateLiveClock() {
  const now = new Date();
  const h = String(now.getHours()).padStart(2,'0');
  const m = String(now.getMinutes()).padStart(2,'0');
  liveClock.textContent = `${h}:${m}`;
}
setInterval(updateLiveClock,1000);
updateLiveClock();

// üì± Apps Menu
function openAppsMenu(){ document.getElementById("appsMenu").classList.remove("hidden"); }
function closeAppsMenu(){ document.getElementById("appsMenu").classList.add("hidden"); }

// üõ† Register service worker
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('sw.js').then(() => {
    console.log('‚úÖ Service Worker registered');
  });
}
</script>
</body>
</html>
